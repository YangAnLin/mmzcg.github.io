```
1.创建student和score表
CREATE  TABLE  student (
id  INT(10)  NOT NULL  UNIQUE  PRIMARY KEY  ,
name  VARCHAR(20)  NOT NULL ,
sex  VARCHAR(4)  ,
birth  YEAR,
department  VARCHAR(20) ,
address  VARCHAR(50) 
);
创建score表。SQL代码如下：
CREATE  TABLE  score (
id  INT(10)  NOT NULL  UNIQUE  PRIMARY KEY  AUTO_INCREMENT ,
stu_id  INT(10)  NOT NULL ,
c_name  VARCHAR(20) ,
grade  INT(10)
);
2.为student表和score表增加记录
向student表插入记录的INSERT语句如下：
INSERT INTO student VALUES( 901,'张老大', '男',1985,'计算机系', '北京市海淀区');
INSERT INTO student VALUES( 902,'张老二', '男',1986,'中文系', '北京市昌平区');
INSERT INTO student VALUES( 903,'张三', '女',1990,'中文系', '湖南省永州市');
INSERT INTO student VALUES( 904,'李四', '男',1990,'英语系', '辽宁省阜新市');
INSERT INTO student VALUES( 905,'王五', '女',1991,'英语系', '福建省厦门市');
INSERT INTO student VALUES( 906,'王六', '男',1988,'计算机系', '湖南省衡阳市');
向score表插入记录的INSERT语句如下：
INSERT INTO score VALUES(NULL,901, '计算机',98);
INSERT INTO score VALUES(NULL,901, '英语', 80);
INSERT INTO score VALUES(NULL,902, '计算机',65);
INSERT INTO score VALUES(NULL,902, '中文',88);
INSERT INTO score VALUES(NULL,903, '中文',95);
INSERT INTO score VALUES(NULL,904, '计算机',70);
INSERT INTO score VALUES(NULL,904, '英语',92);
INSERT INTO score VALUES(NULL,905, '英语',94);
INSERT INTO score VALUES(NULL,906, '计算机',90);
INSERT INTO score VALUES(NULL,906, '英语',85);
```

### 查询student表的第2条到4条记录
```
SELECT * from student LIMIT 1,3;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/27567207.jpg)

### 从student表查询所有学生的学号（id）、姓名（name）和院系（department）的信息

```
SELECT * FROM student;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/3668463.jpg)

### 从student表中查询计算机系和英语系的学生的信息
```
SELECT * from student WHERE department='计算机系' OR department='英语系';
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/84601008.jpg)
### 从student表中查询年龄18~22岁的学生信息
```
SELECT * FROM student WHERE 2013-birth BETWEEN 18 AND 22;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/98830484.jpg)
### 从student表中查询每个院系有多少人
```
SELECT department,count(department) FROM student GROUP BY department;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/69151150.jpg)
### 从score表中查询每个科目的最高分
```
SELECT c_name,max(grade) FROM score GROUP BY c_name;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/44697152.jpg)
### 查询李四的考试科目（c_name）和考试成绩（grade）
```
SELECT c_name,grade FROM score WHERE stu_id=(SELECT id FROM student WHERE name='李四');  /*方法一*/
```
```
SELECT c_name,grade FROM score AS score LEFT JOIN student as student ON student.id = score.stu_id WHERE student.name='李四'; /*方法二*/
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/76707057.jpg)
### 用连接的方式查询所有学生的信息和考试信息
```
SELECT student.id,name,sex,birth,department,address,c_name,grade FROM student,score WHERE student.id=score.stu_id;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/54092055.jpg)
### 计算每个学生的总成绩
```
SELECT stu.name,sum(sc.grade) FROM score as sc , student as stu WHERE stu.id = sc.stu_id GROUP BY stu.name;  /*方法一*/
```
```
SELECT stu.name,sum(sc.grade) FROM score as sc RIGHT JOIN student as stu on stu.id = sc.stu_id GROUP BY stu.name;  /*方法二*/
```
```
SELECT student.id,name,SUM(grade) FROM student,score WHERE student.id=score.stu_id GROUP BY id;  /*方法三*/
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/37873658.jpg)
### 计算每个考试科目的平均成绩
```
select c_name,sum(grade)/count(*) from score GROUP BY  c_name;
```
```
select c_name,avg(grade) from score GROUP BY  c_name;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/22049199.jpg)
### 查询计算机成绩低于95的学生信息
```
SELECT sc.*,stu.name FROM student AS stu ,score as sc WHERE stu.id = sc.stu_id and  grade <95 AND c_name='计算机';
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/24281940.jpg)
### 查询同时参加计算机和英语考试的学生的信息
```
SELECT a.* FROM student a ,score b ,score c WHERE a.id=b.stu_id AND b.c_name='计算机' AND a.id=c.stu_id AND c.c_name='英语'; /*方法一*/
```
```
SELECT * FROM student WHERE id = ANY /*方法二*/
      (SELECT stu_id FROM score WHERE stu_id IN (SELECT stu_id FROM score WHERE c_name = '计算机') AND c_name = '英语');
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/19602936.jpg)
### 将计算机考试成绩按从高到低进行排序
```
SELECT * FROM score WHERE c_name='计算机' ORDER BY  grade;
```

### 从student表和score表中查询出学生的学号，然后合并查询结果
```
(SELECT stu_id FROM score ) union (select id from student);
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/53079145.jpg)
### 查询姓张或者姓王的同学的姓名、院系和考试科目及成绩
```
SELECT stu.name,stu.department,sa.c_name,sa.grade FROM score AS sa ,student as stu WHERE sa.stu_id = stu.id AND (stu.name LIKE "张%" or stu.name LIKE "王%") ORDER BY stu.name;
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/97857619.jpg)

### 查询都是湖南的学生的姓名、年龄、院系和考试科目及成绩
```
SELECT stu.name,2017-stu.birth,stu.department,sa.c_name,sa.grade FROM score AS sa ,student as stu WHERE sa.stu_id = stu.id AND (stu.address LIKE "%湖南%");
```
![](http://ociu0xfjm.bkt.clouddn.com/17-9-11/15070468.jpg)


