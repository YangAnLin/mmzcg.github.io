# 简单工厂

Pay.java

```java
public interface Pay {
    void pay(Integer money);
}
```

SimpleFactory.java

```java
public class SimpleFactory {

    public static Pay create(String payType) {

        if (payType.equals("ZFB")) {
            return new ZFBPay();
        } else if (payType.equals("WX")) {
            return new WXPay();
        }else {
            return null;
        }
    }
}
```

WXPay.java

```java
public class WXPay implements Pay {
    public void pay(Integer money) {
        System.out.println("微信支付:"+money+"元");
    }
}
```

ZFBPay.java

```java
public class ZFBPay implements Pay {
    public void pay(Integer money) {
        System.out.println("支付宝支付:"+money+"元");
    }
}
```

Test.java

```java
/**
 * 简单工厂设计模式
 */
public class Test {

    public static void main(String[] args) {

        Pay wx = SimpleFactory.create("WX");
        wx.pay(2);

        Pay zfb = SimpleFactory.create("ZFB");
        zfb.pay(1);
    }
}
```

# 策略模式

## 基础

Strategy

```java
public interface Strategy {

    /**
     * 策略方法
     */
    public void strategyInterface();
}

```

ConcreteStrategyA

```java
public class ConcreteStrategyA implements Strategy {

    @Override
    public void strategyInterface() {
        System.out.println("ConcreteStrategyA");
    }
}
```

ConcreteStrategyB

```java
public class ConcreteStrategyB implements Strategy {

    @Override
    public void strategyInterface() {
        System.out.println("ConcreteStrategyB");
    }
}
```

ConcreteStrategyC

```java
public class ConcreteStrategyC implements Strategy {

    @Override
    public void strategyInterface() {
        System.out.println("ConcreteStrategyC");
    }
}
```

Context

```java
public class Context {

    //持有一个具体策略的对象
    private Strategy strategy;

    /**
     * 构造函数，传入一个具体策略对象
     */
    public Context(Strategy strategy){
        this.strategy = strategy;
    }

    /**
     * 策略方法
     */
    public void contextInterface(){
        strategy.strategyInterface();
    }

}
```

Test.java

```java
public class Test {

    public static void main(String[] args) {
        Context context = new Context(new ConcreteStrategyA());
        context.contextInterface();
    }
}
```

## 应用

MemberStrategy.java

```java
/**
 * 会员策略
 */
public interface MemberStrategy {

    /**
     * 计算图书的价格,根绝会员等级
     * @param booksPrice    图书的原价
     * @return    计算出打折后的价格
     */
    public double calcPrice(double booksPrice);

}
```



PrimaryMemberStrategy.java 初级会员

```java
public class PrimaryMemberStrategy implements MemberStrategy {
    @Override
    public double calcPrice(double booksPrice) {
        System.out.println("初级会员,没有折扣");
        return 0;
    }
}
```

IntermediateMemberStrategy.java 中级会员

```java
public class IntermediateMemberStrategy implements MemberStrategy {
    @Override
    public double calcPrice(double booksPrice) {
        System.out.println("对于中级会员的折扣为10%");
        return booksPrice * 0.9;
    }
}
```

AdvancedMemberStrategy.java 高级会员

```java
public class AdvancedMemberStrategy implements MemberStrategy {
    @Override
    public double calcPrice(double booksPrice) {
        System.out.println("对于高级会员的折扣为20%");
        return booksPrice * 0.8;
    }
}
```

Price.java

```java
public class Price {

    private MemberStrategy strategy;


    public Price(MemberStrategy strategy) {
        this.strategy = strategy;
    }

    /**
     * 计算图书的价格
     * @param booksPrice    图书的原价
     * @return    计算出打折后的价格
     */
    public double quote(double booksPrice){
        return this.strategy.calcPrice(booksPrice);
    }
}
```

Test.java

```java
public class Test {

    public static void main(String[] args) {
        //选择并创建需要使用的策略对象
        MemberStrategy strategy = new AdvancedMemberStrategy();
        //创建环境
        Price price = new Price(strategy);
        //计算价格
        double quote = price.quote(300);
        System.out.println("图书的最终价格为：" + quote);
    }
}

```