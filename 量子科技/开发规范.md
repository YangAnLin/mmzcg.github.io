# 1.数据访问服务分四层

* controller
* service (可以直接访问mapper层,有中间件操作,需要访问dao层)
* dao (中间件访问层,包括,MQ,Redis,ES,MongoDB)
* mapper(数据库访问,只允许访问一个库)



# 2.开发
## `controller`
### 1.`controller`层只能允许使用以下注解

* @RequestMapping

* @RestController

* @Slf4j

* @Resource

* @xxxxMapping,不允許直接使用@RequestMapping

* @RequestParam

* @RequestBody

* @PathVariable

* @Validated

* @Api

* @ApiOperation

* 在使用Url有关的注解时,参数必须以`/`开头命名,比如

	* @RequestMapping("/user")
	
	​	

### 2.`controller`请求参数

1. 接收的参数只有一个

	* 只能使用基本数据类型的包装类(Integer.....),数组集合(List.......)
	* 不能使用`Object`,`Map`
	* @RequestParam必须要给参数命名
2. 接收的参数有两个或以上,必须使用`vo`类
3. 必须要校验入参数据
4. 只有一个参数,必须使用`@RequestParam`

### 3.`controller`返回的参数

* 返回值,必须是统一返回值对象
* 只有在`return "redirect:/";`的时候,才允许返回`String`
* 返回给调用方的值,如果是一个对象,返回值必须要用泛型
* 返回对象是控制,可以声明统一返回值对象

## `service`





# 3.数据库规范

1. 同一个功能模块的表明前缀一样,比如
	1. 邮件开头以`mail_`开头
	
	2. 负盈利以`pxd_`开头
2. 一个库一个服务,比如
 4.  account 以用户信息为主

	game 以游戏纪录,配置为主
3. 



# 4.data-server 功能模块划分

## 4.1.active-service(活动相关)

1. 活动
2. 任务

## 4.2.captial-service(入款,出款相关)

1. 银行卡绑定



# 5.后端技术栈

* SpringBoot 2.1.x
* SpringCloud Alibaba 0.2.x
* Dubbo
* Myabtis-Plus 3.x
* Redis 5.x
* RocketMQ
* ElasticSearch 6.8.5
* Maven 3.x
* JDK 1.8.x
* Sharding-proxy 3.x
* XXL-JOB
* Mysql 5.8

