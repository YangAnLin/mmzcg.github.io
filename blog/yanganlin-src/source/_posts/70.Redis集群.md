---
title: Redis集群
date: 2020-08-14 00:00:00
categories: Redis
---
![](https://raw.githubusercontent.com/YangAnLin/images/master/20200826195134.jpeg)
<!-- more --> 

## 数据存储设计

Key -> CRC16(Key) 相当于HashCode值--->%16384

- 将所有的存储空间计划切割成16384份，每台主机保存一部分,每份代表的使一个存储空间，不是一个key的保存空间
- 将key按照计算出的结果放到对应的存储空间



![](https://raw.githubusercontent.com/YangAnLin/images/master/20200826195145.png)

当有新的机器加入集群的时候,就会每台机器转移一些数据空间

![](https://raw.githubusercontent.com/YangAnLin/images/master/20200826195159.png)

## 集群内部通讯设计

![](https://raw.githubusercontent.com/YangAnLin/images/master/20200826195332.png)